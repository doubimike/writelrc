<md-card id="detail">
    <md-card-title>
        <md-card-title-text>
            <span class="md-headline">{{vm.lrc.title}}</span>
        </md-card-title-text>
    </md-card-title>
    <md-card-content>
        <p>{{vm.lrc.content}}</p>
    </md-card-content>
    <md-card-footer>
        <a ui-sref="user({userID: vm.lrc.author._id})">
            <md-card-avatar>
                <img class="md-user-avatar" ng-src="{{vm.lrc.author.head}}" width="24" height="24" />{{vm.lrc.author.name}}
            </md-card-avatar>
        </a>
        <span>
        <time ng-show="!vm.lrc.updateTime" title="{{ vm.lrc.publishTime | amDateFormat: 'dddd, MMMM Do YYYY, h:mm a' }}" am-time-ago="vm.lrc.publishTime"></time> 夜 <span ng-show="vm.lrc.pubPlace">于{{vm.lrc.pubPlace}}</span>
        <time ng-show="vm.lrc.updateTime" title="{{ vm.lrc.updateTime | amDateFormat: 'dddd, MMMM Do YYYY, h:mm a' }}" am-time-ago="vm.lrc.updateTime"></time> 夜 <span ng-show="vm.lrc.pubPlace">于{{vm.lrc.pubPlace}}</span>
        </span>
        <div>
            <span>赞</span>
            <ul>
                <li>立意</li>
                <li>韵律</li>
                <li>意境</li>
            </ul>
        </div>
    </md-card-footer>
    <div layout="row">阅读：{{vm.lrc.views}} 喜欢：{{vm.lrc.likes}} 收藏：{{vm.lrc.collects}}
        <md-card-actions layout="row" layout-align="start center">
            <!-- <md-button class="md-icon-button" aria-label="Favorite" ng-click="vm.like()">
                <md-icon>favorite</md-icon>
            </md-button> -->
            <md-button ng-class="{'md-icon-button md-accent' : vm.likeByUser, 'md-icon-button' : !vm.likeByUser}" aria-label="Favorite" ng-click="vm.like()">
                <md-icon>favorite</md-icon>
            </md-button>
            <md-button class="md-icon-button" aria-label="Comment" ng-click="vm.addComment($event)">
                <md-icon>comment</md-icon>
            </md-button>
            <md-button class="md-icon-button" aria-label="Share" ng-click="vm.share()">
                <md-icon>share</md-icon>
            </md-button>
            <!--   <md-button class="md-icon-button" aria-label="Share">
                <md-icon> attach_money </md-icon>
            </md-button> -->
            <md-button ng-click="vm.collect(vm.lrc._id)"> <span ng-show="!vm.collectByUser">收藏</span><span ng-show="vm.collectByUser">取消收藏</span></md-button>
            <md-button ng-show="$root.globals.user._id==vm.lrc.author._id" ng-click="vm.update
            (vm.lrc)">修改</md-button>
            <md-button ng-show="$root.globals.user._id==vm.lrc.author._id" ng-click="vm.deleteLrc(vm.lrc._id)">删除</md-button>
        </md-card-actions>
    </div>
    <div>
        <md-list class="md-dense">
            <md-subheader class="md-no-sticky">词评</md-subheader>
            <md-list-item class="md-3-line" ng-repeat="item in vm.lrc.comments track by $index">
                <img ng-src="{{item.authorId.head}}" class="md-avatar" alt="{{item.name}}">
                <div class="md-list-item-text" layout="column">
                    <h3>{{item.content}}</h3>
                    <h3>{{item.authorId.name}}</h3>
                    <p>
                        <time title="{{ item.commentTime | amDateFormat: 'dddd, MMMM Do YYYY, h:mm a' }}">{{ item.commentTime | amCalendar }}</time>
                    </p>
                </div>
                <div>
                    <md-button ng-click="vm.replyComment($event,item.authorId.name)">
                        <md-icon> comment </md-icon>
                    </md-button>
                    <md-button ng-click="vm.deleteComment($event,item,$index)" ng-show="$root.globals.user.name==item.authorId.name">
                        <md-icon> delete </md-icon>
                    </md-button>
                </div>
            </md-list-item>
            <md-list-item ng-show="vm.lrc.comments.length===0">
                <md-button ng-click="vm.addComment($event)">点击第一个评论~</md-button>
            </md-list-item>
            <md-list-item ng-show="vm.lrc.comments.length>=10 && vm.hideLoadMoreComments==false">
                <md-button ng-click="vm.loadMore(vm.lrc._id,vm.lrc.comments.length)">加载更多~</md-button>
            </md-list-item>
        </md-list>
    </div>
</md-card>
